(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["OrderConfirm"],{"0687":function(t,e,c){"use strict";c.d(e,"a",(function(){return r})),c.d(e,"b",(function(){return i})),c.d(e,"c",(function(){return l})),c.d(e,"e",(function(){return s})),c.d(e,"d",(function(){return u})),c.d(e,"f",(function(){return d}));c("caf3");var a=c("b775"),n=c("794c"),o="/api-order/h5";function r(t){return Object(a["a"])({url:"".concat(n["k"]).concat(o,"/accept/pageByStatus"),method:"post",data:t})}function i(t){return Object(a["a"])({url:"".concat(n["k"]).concat(o,"/accept/acceptDetail"),method:"post",data:t})}function l(t){return Object(a["a"])({url:"".concat(n["k"]).concat(o,"/accept/acceptOrder"),method:"post",data:t})}function s(t){return Object(a["a"])({url:"".concat(n["k"]).concat(o,"/accept/rejectOrder"),method:"post",data:t})}function u(t){return Object(a["a"])({url:"".concat(n["k"]).concat(o,"/send/orderProcess"),method:"post",data:t})}function d(t){return Object(a["a"])({url:"".concat(n["k"]).concat(o,"/accept/returnOrder"),method:"post",data:t})}},1882:function(t,e,c){"use strict";var a=function(){var t=this,e=t.$createElement,c=t._self._c||e;return c("div",[c("van-field",{attrs:{readonly:"",clickable:"",label:"部门",value:t.departmentName,placeholder:"请选择…","right-icon":"arrow"},on:{click:function(e){t.showPicker=!0}}}),c("van-popup",{attrs:{position:"bottom"},model:{value:t.showPicker,callback:function(e){t.showPicker=e},expression:"showPicker"}},[c("van-picker",{attrs:{"show-toolbar":"",columns:t.columns,"value-key":"departmentName",value:t.departmentName},on:{cancel:function(e){t.showPicker=!1},confirm:t.selectType}})],1)],1)},n=[],o=c("1d75"),r=c("50cc"),i=c("81db"),l=c("0920"),s=c("2f76"),u=c("aef9"),d=c("9d0b"),p=c("d6d8"),b=c("83f1"),f=function(t){Object(l["a"])(c,t);var e=Object(s["a"])(c);function c(){var t;return Object(r["a"])(this,c),t=e.apply(this,arguments),t.columns=[{departmentName:"不限部门",departmentId:"不限部门"}],t.showPicker=!1,t.departmentName="不限部门",t}return Object(i["a"])(c,[{key:"selectType",value:function(t){this.departmentName=t.departmentName,this.$emit("change",t),this.showPicker=!1}},{key:"created",value:function(){var t=this;Object(b["i"])().then((function(e){var c;(c=t.columns).push.apply(c,Object(o["a"])(e.data))}))}}]),c}(p["a"]);f=Object(u["a"])([Object(d["a"])({})],f);var j=f,h=j,m=c("8d2f"),O=Object(m["a"])(h,a,n,!1,null,null,null);e["a"]=O.exports},"20ea":function(t,e,c){},"5aa5":function(t,e,c){"use strict";var a=function(){var t=this,e=t.$createElement,c=t._self._c||e;return c("div",{staticClass:"d-button"},[c("button",{staticClass:"btn",style:{color:t.color?t.color:"",borderColor:t.color?t.color:""},on:{click:t.clickHandle}},[t._t("default",[t._v("接单")])],2)])},n=[],o=c("50cc"),r=c("81db"),i=c("0920"),l=c("2f76"),s=(c("3a28"),c("0b9a"),c("aef9")),u=c("d5c1"),d=c("eb1c"),p=c("9d0b"),b=function(t){Object(i["a"])(c,t);var e=Object(l["a"])(c);function c(){var t;return Object(o["a"])(this,c),t=e.apply(this,arguments),t.message={title:"提示",message:"确定拒绝接单吗",confirmButtonText:"确定拒单",confirmButtonColor:"#DC5659"},t}return Object(r["a"])(c,[{key:"clickHandle",value:function(){var t,e=this;if(this.selectList&&(t=this.selectList.filter((function(t){return!0===t.ischeck}))),console.log("list",t),this.selectList&&!t.length)return Object(u["a"])({message:"您还没有选择订单哦"});this.negative?d["a"].confirm(this.mergeConfirmMsg()).then((function(){e.$emit("clickConfirm")})).catch((function(){console.log("confirm::: 点击了取消")})):this.$emit("continueHandle")}},{key:"mergeConfirmMsg",value:function(){return Object.assign({},this.message,this.confirmMsg)}}]),c}(p["f"]);Object(s["a"])([Object(p["d"])(Boolean)],b.prototype,"negative",void 0),Object(s["a"])([Object(p["d"])(String)],b.prototype,"color",void 0),Object(s["a"])([Object(p["d"])(Object)],b.prototype,"confirmMsg",void 0),Object(s["a"])([Object(p["d"])(Array)],b.prototype,"selectList",void 0),b=Object(s["a"])([p["a"]],b);var f=b,j=f,h=(c("cc0f"),c("8d2f")),m=Object(h["a"])(j,a,n,!1,null,null,null);e["a"]=m.exports},"7c03":function(t,e,c){"use strict";var a=function(){var t=this,e=t.$createElement,c=t._self._c||e;return c("van-field",{attrs:{rows:t.rows,autosize:"",label:t.label,type:"textarea",placeholder:t.placeholder,value:t.value,maxlength:t.maxlength,"show-word-limit":t.showWordLimit,rules:t.rules},on:{input:function(e){return t.$emit("input",e)}}})},n=[],o=c("81db"),r=c("50cc"),i=c("0920"),l=c("2f76"),s=c("aef9"),u=c("9d0b"),d=c("d6d8"),p=function(t){Object(i["a"])(c,t);var e=Object(l["a"])(c);function c(){return Object(r["a"])(this,c),e.apply(this,arguments)}return Object(o["a"])(c)}(d["a"]);Object(s["a"])([Object(u["d"])()],p.prototype,"showWordLimit",void 0),Object(s["a"])([Object(u["d"])({default:4})],p.prototype,"rows",void 0),p=Object(s["a"])([Object(u["a"])({})],p);var b=p,f=b,j=c("8d2f"),h=Object(j["a"])(f,a,n,!1,null,null,null);e["a"]=h.exports},"8a87":function(t,e,c){"use strict";c.r(e);var a=function(){var t=this,e=t.$createElement,c=t._self._c||e;return c("div",{staticClass:"orderConfirm"},[c("SelectorDepartment",{on:{change:t.DepartmentChange}}),c("SelectorProject",{on:{change:t.ProjectChange}}),c("SelectorTextarea",{attrs:{label:"备注",placeholder:"请输入",rows:"2","show-word-limit":"",type:"textarea",maxlength:"100"},model:{value:t.remark,callback:function(e){t.remark=e},expression:"remark"}}),c("van-button",{staticClass:"button",attrs:{type:"info",loading:t.loading},on:{click:t.acceptSubmit}},[t._v("确定接单")])],1)},n=[],o=c("50cc"),r=c("81db"),i=c("0920"),l=c("2f76"),s=c("aef9"),u=c("9d0b"),d=c("5aa5"),p=c("1882"),b=c("b7fc"),f=c("7c03"),j=c("0687"),h=c("d5c1"),m=function(t){Object(i["a"])(c,t);var e=Object(l["a"])(c);function c(){var t;return Object(o["a"])(this,c),t=e.apply(this,arguments),t.remark="",t.companyId="",t.departmentId="",t.projectId="",t.loading=!1,t}return Object(r["a"])(c,[{key:"DepartmentChange",value:function(t){console.log(t),this.companyId=t.companyId,this.departmentId=t.departmentId,console.log("部门ID",this.departmentId)}},{key:"ProjectChange",value:function(t){console.log(t),this.projectId=t.projectId,console.log("项目ID",this.projectId)}},{key:"acceptSubmit",value:function(){var t=this;this.loading=!0;var e={companyId:"",acceptDepartmentId:this.departmentId,acceptProjectId:this.projectId,orderIds:this.$route.query.orderIds,remark:this.remark};Object(j["c"])(e).then((function(e){t.loading=!1,console.log(e),0===e.code&&(Object(h["a"])({message:e.data,type:"success",duration:1500}),t.$router.push("/WaitingForOrder?status=3"))})).catch((function(e){t.loading=!1,Object(h["a"])({message:e.msg,type:"fail",duration:1500})}))}}]),c}(u["f"]);m=Object(s["a"])([Object(u["a"])({components:{DButton:d["a"],SelectorDepartment:p["a"],SelectorTextarea:f["a"],SelectorProject:b["a"]}})],m);var O=m,v=O,k=c("8d2f"),y=Object(k["a"])(v,a,n,!1,null,"ffeeb6be",null);e["default"]=y.exports},b7fc:function(t,e,c){"use strict";var a=function(){var t=this,e=t.$createElement,c=t._self._c||e;return c("div",[c("van-field",{attrs:{readonly:"",clickable:"",label:"项目",value:t.projectName,placeholder:"请选择…","right-icon":"arrow"},on:{click:function(e){t.showPicker=!0}}}),c("van-popup",{attrs:{position:"bottom"},model:{value:t.showPicker,callback:function(e){t.showPicker=e},expression:"showPicker"}},[c("van-picker",{attrs:{"show-toolbar":"",columns:t.columns,"value-key":"projectName",value:t.projectName},on:{cancel:function(e){t.showPicker=!1},confirm:t.selectType}})],1)],1)},n=[],o=c("1d75"),r=c("50cc"),i=c("81db"),l=c("0920"),s=c("2f76"),u=c("aef9"),d=c("9d0b"),p=c("d6d8"),b=c("83f1"),f=function(t){Object(l["a"])(c,t);var e=Object(s["a"])(c);function c(){var t;return Object(r["a"])(this,c),t=e.apply(this,arguments),t.columns=[{projectName:"不限项目",projectId:"不限项目"}],t.showPicker=!1,t.projectName="不限项目",t}return Object(i["a"])(c,[{key:"selectType",value:function(t){this.projectName=t.projectName,this.$emit("change",t),this.showPicker=!1}},{key:"created",value:function(){var t=this;Object(b["j"])().then((function(e){var c;(c=t.columns).push.apply(c,Object(o["a"])(e.data))}))}}]),c}(p["a"]);f=Object(u["a"])([Object(d["a"])({})],f);var j=f,h=j,m=c("8d2f"),O=Object(m["a"])(h,a,n,!1,null,null,null);e["a"]=O.exports},cc0f:function(t,e,c){"use strict";c("20ea")},d6d8:function(t,e,c){"use strict";var a=c("81db"),n=c("50cc"),o=c("0920"),r=c("2f76"),i=c("aef9"),l=c("9d0b"),s=function(t){Object(o["a"])(c,t);var e=Object(r["a"])(c);function c(){return Object(n["a"])(this,c),e.apply(this,arguments)}return Object(a["a"])(c)}(l["f"]);Object(i["a"])([Object(l["d"])({default:"-"})],s.prototype,"size",void 0),Object(i["a"])([Object(l["d"])({default:""})],s.prototype,"value",void 0),Object(i["a"])([Object(l["d"])({default:""})],s.prototype,"label",void 0),Object(i["a"])([Object(l["d"])({default:"请选择…"})],s.prototype,"placeholder",void 0),Object(i["a"])([Object(l["d"])({default:!0})],s.prototype,"allowInput",void 0),Object(i["a"])([Object(l["d"])()],s.prototype,"maxlength",void 0),Object(i["a"])([Object(l["d"])({default:function(){return[]}})],s.prototype,"rules",void 0),Object(i["a"])([Object(l["d"])({default:!0})],s.prototype,"clearable",void 0),s=Object(i["a"])([Object(l["a"])({})],s);var u,d,p=s,b=p,f=c("8d2f"),j=Object(f["a"])(b,u,d,!1,null,null,null);e["a"]=j.exports}}]);