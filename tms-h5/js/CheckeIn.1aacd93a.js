(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["CheckeIn"],{"008e":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("van-field",{attrs:{readonly:"",clickable:"",label:"司机",value:e.value,placeholder:"请选择…",rules:e.rules,"right-icon":"arrow"},on:{click:function(t){e.showPicker=!0}}}),a("van-popup",{attrs:{position:"bottom"},model:{value:e.showPicker,callback:function(t){e.showPicker=t},expression:"showPicker"}},[a("van-picker",{attrs:{"show-toolbar":"",columns:e.columns,value:e.value,"value-key":"driverName"},on:{cancel:function(t){e.showPicker=!1},confirm:e.selectType}})],1)],1)},c=[],i=a("50cc"),o=a("81db"),r=a("0920"),s=a("2f76"),l=a("aef9"),u=a("9d0b"),d=a("d6d8"),h=a("83f1"),p=function(e){Object(r["a"])(a,e);var t=Object(s["a"])(a);function a(){var e;return Object(i["a"])(this,a),e=t.apply(this,arguments),e.columns=[],e.type="",e.showPicker=!1,e}return Object(o["a"])(a,[{key:"created",value:function(){var e=this;Object(h["b"])({}).then((function(t){e.columns=t.data}))}},{key:"selectType",value:function(e){this.type=e.driverName,this.showPicker=!1,this.$emit("confirm",e)}},{key:"watchType",value:function(e){this.$emit("input",e)}}]),a}(d["a"]);Object(l["a"])([Object(u["g"])("type")],p.prototype,"watchType",null),p=Object(l["a"])([Object(u["a"])({})],p);var b=p,f=b,m=a("8d2f"),v=Object(m["a"])(f,n,c,!1,null,null,null);t["a"]=v.exports},"18a7":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("van-field",{attrs:{readonly:"",clickable:"",label:"节点类型",value:e.value,placeholder:"请选择…","right-icon":"arrow",rules:[{validator:e.validator,required:!0,message:"必选项"}]},on:{click:function(t){e.showPicker=!0}}}),a("van-popup",{attrs:{position:"bottom"},model:{value:e.showPicker,callback:function(t){e.showPicker=t},expression:"showPicker"}},[a("van-picker",{attrs:{"show-toolbar":"",columns:e.columns,value:e.value},on:{cancel:function(t){e.showPicker=!1},confirm:e.selectType}})],1)],1)},c=[],i=a("50cc"),o=a("81db"),r=a("0920"),s=a("2f76"),l=a("aef9"),u=a("9d0b"),d=a("d6d8"),h=function(e){Object(r["a"])(a,e);var t=Object(s["a"])(a);function a(){var e;return Object(i["a"])(this,a),e=t.apply(this,arguments),e.columns=["提货签到","在途打卡","送达签到"],e.type="",e.showPicker=!1,e}return Object(o["a"])(a,[{key:"selectType",value:function(e){this.type=e,this.showPicker=!1}},{key:"watchType",value:function(e){this.$emit("input",e)}},{key:"validator",value:function(e){return e}}]),a}(d["a"]);Object(l["a"])([Object(u["g"])("type")],h.prototype,"watchType",null),h=Object(l["a"])([Object(u["a"])({})],h);var p=h,b=p,f=a("8d2f"),m=Object(f["a"])(b,n,c,!1,null,null,null);t["a"]=m.exports},"3eb2":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("van-field",{attrs:{readonly:"",clickable:"",label:"车辆",value:e.value,placeholder:"请选择…",rules:e.rules,"right-icon":"arrow"},on:{click:function(t){e.showPicker=!0}}}),a("van-popup",{attrs:{position:"bottom"},model:{value:e.showPicker,callback:function(t){e.showPicker=t},expression:"showPicker"}},[a("van-picker",{attrs:{"show-toolbar":"",columns:e.columns,value:e.value,"value-key":"plateNumber"},on:{cancel:function(t){e.showPicker=!1},confirm:e.selectType}})],1)],1)},c=[],i=a("50cc"),o=a("81db"),r=a("0920"),s=a("2f76"),l=a("aef9"),u=a("9d0b"),d=a("d6d8"),h=a("83f1"),p=function(e){Object(r["a"])(a,e);var t=Object(s["a"])(a);function a(){var e;return Object(i["a"])(this,a),e=t.apply(this,arguments),e.columns=[],e.type="",e.showPicker=!1,e}return Object(o["a"])(a,[{key:"created",value:function(){var e=this;Object(h["d"])({}).then((function(t){e.columns=t.data}))}},{key:"selectType",value:function(e){this.type=e.plateNumber,this.showPicker=!1,this.$emit("confirm",e)}},{key:"watchType",value:function(e){this.$emit("input",e)}}]),a}(d["a"]);Object(l["a"])([Object(u["g"])("type")],p.prototype,"watchType",null),p=Object(l["a"])([Object(u["a"])({})],p);var b=p,f=b,m=a("8d2f"),v=Object(m["a"])(f,n,c,!1,null,null,null);t["a"]=v.exports},4394:function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),a.d(t,"c",(function(){return r})),a.d(t,"d",(function(){return s})),a.d(t,"b",(function(){return l}));a("caf3");var n=a("b775"),c=a("794c"),i="/api-event/h5";function o(e){return Object(n["a"])({url:"".concat(c["i"]).concat(i,"/skunode/nodeBaseSave"),method:"post",data:e})}function r(e){return Object(n["a"])({url:"".concat(c["i"]).concat(i,"/nodeBase/save"),method:"post",data:e})}function s(e){return Object(n["a"])({url:"".concat(c["i"]).concat(i,"/skunode/skuNodeIsEnable"),method:"post",data:e})}function l(e){return Object(n["a"])({url:"".concat(c["i"]).concat(i,"/skunode/nodeConfigList"),method:"post",data:e})}},"7c03":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("van-field",{attrs:{rows:e.rows,autosize:"",label:e.label,type:"textarea",placeholder:e.placeholder,value:e.value,maxlength:e.maxlength,"show-word-limit":e.showWordLimit,rules:e.rules},on:{input:function(t){return e.$emit("input",t)}}})},c=[],i=a("81db"),o=a("50cc"),r=a("0920"),s=a("2f76"),l=a("aef9"),u=a("9d0b"),d=a("d6d8"),h=function(e){Object(r["a"])(a,e);var t=Object(s["a"])(a);function a(){return Object(o["a"])(this,a),t.apply(this,arguments)}return Object(i["a"])(a)}(d["a"]);Object(l["a"])([Object(u["d"])()],h.prototype,"showWordLimit",void 0),Object(l["a"])([Object(u["d"])({default:4})],h.prototype,"rows",void 0),h=Object(l["a"])([Object(u["a"])({})],h);var p=h,b=p,f=a("8d2f"),m=Object(f["a"])(b,n,c,!1,null,null,null);t["a"]=m.exports},a35b:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"checkeIn"},[a("van-form",{ref:"formRefInput",on:{failed:e.onFailed,submit:e.checkeInCreated}},[a("SelectorNodeType",{attrs:{label:"节点类型",placeholder:"请选择"},model:{value:e.nodeTypeName,callback:function(t){e.nodeTypeName=t},expression:"nodeTypeName"}}),a("SelectorDatetimeMinute",{attrs:{label:"时间",placeholder:"请选择…"},on:{input:e.DatetimeChange},model:{value:e.signTime,callback:function(t){e.signTime=t},expression:"signTime"}}),a("SelectorLocation",{attrs:{label:"地点",allowInput:!0},on:{change:e.setLocation},model:{value:e.signAddress,callback:function(t){e.signAddress=t},expression:"signAddress"}}),a("SelectorInput",{attrs:{label:"签到人",rules:e.rules,placeholder:"请输入"},model:{value:e.signUserIdName,callback:function(t){e.signUserIdName=t},expression:"signUserIdName"}}),a("SelectorDriver",{attrs:{label:"司机"},on:{confirm:e.driverChange},model:{value:e.driverName,callback:function(t){e.driverName=t},expression:"driverName"}}),a("SelectorCar",{staticClass:"mar",attrs:{label:"车辆"},on:{confirm:e.truckChange},model:{value:e.truckName,callback:function(t){e.truckName=t},expression:"truckName"}}),a("SelectorTextarea",{attrs:{label:"备注",placeholder:"请输入",maxlength:500},model:{value:e.desc,callback:function(t){e.desc=t},expression:"desc"}}),a("SelectorUpload",{staticClass:"file",attrs:{multiple:!0,"max-count":2},on:{change:e.upload}}),a("FixedButton",{attrs:{"native-type":"submit",loading:e.loading}})],1)],1)},c=[],i=a("50cc"),o=a("81db"),r=a("0920"),s=a("2f76"),l=(a("2ed1"),a("6dc2"),a("aef9")),u=a("9d0b"),d=a("18a7"),h=a("96ec"),p=a("f53f"),b=a("d204"),f=a("db10"),m=a("008e"),v=a("3eb2"),k=a("14fc"),y=a("7c03"),g=a("848d"),j=a("4394"),O=a("d5c1"),w=function(e){Object(r["a"])(a,e);var t=Object(s["a"])(a);function a(){var e;return Object(i["a"])(this,a),e=t.apply(this,arguments),e.nodeAttach=[],e.skuNodeFieldVOS=[],e.paramsData={},e.signAddress="",e.nodeTypeName="",e.nodeType="",e.nodeConfigId="",e.driverId="",e.truckId="",e.rules=[{validator:e.validator,required:!0,message:"必选项"}],e.signUserIdName="",e.loading=!1,e.signTime="",e.truckName="",e.driverName="",e.desc="",e.submitData={},e.LatLng={},e}return Object(o["a"])(a,[{key:"setLocation",value:function(e){this.LatLng=e}},{key:"DatetimeChange",value:function(e){console.log(66666666666666,e),this.signTime=e}},{key:"driverChange",value:function(e){console.log(e),this.driverId=e.driverId}},{key:"truckChange",value:function(e){console.log(e),this.truckId=e.truckId}},{key:"validator",value:function(e){return e}},{key:"upload",value:function(e){console.log(e.length),console.log(e);var t=e.map((function(e){return e.id})).join(",");this.nodeAttach=t,console.log(this.nodeAttach)}},{key:"checkeInCreated",value:function(){var e=this;"提货签到"===this.nodeTypeName?this.nodeType="1":"在途打卡"===this.nodeTypeName?this.nodeType="2":"送达签到"===this.nodeTypeName&&(this.nodeType="3"),this.submitData.nodeConfigId=this.nodeConfigId,this.submitData.orderId=this.$route.query.orderId,this.submitData.nodeType=this.nodeType,this.submitData.signTime=this.signTime,this.submitData.signUserIdName=this.signUserIdName,this.submitData.nodeAttach=this.nodeAttach.length?this.nodeAttach:"",this.submitData.signAddress=this.signAddress,this.submitData.lat=this.LatLng.lat,this.submitData.lng=this.LatLng.lng,this.submitData.driverId=this.driverId,this.submitData.driverName=this.driverName,this.submitData.truckId=this.truckId,this.submitData.truckName=this.truckName,this.submitData.desc=this.desc,this.submitData.orderType="1",console.log(this.submitData),this.loading=!0,Object(j["c"])([this.submitData]).then((function(t){e.loading=!1,0===t.code&&(Object(O["a"])({message:"打卡成功",type:"success",duration:1500}),e.$router.go(-1))})).catch((function(t){e.loading=!1,Object(O["a"])({message:t.msg,type:"fail",duration:1500})}))}},{key:"onFailed",value:function(){console.log("onFailed")}}]),a}(u["f"]);Object(l["a"])([Object(u["e"])("formRefInput")],w.prototype,"formRefInput",void 0),w=Object(l["a"])([Object(u["a"])({components:{SelectorLocation:f["a"],SelectorNodeType:d["a"],SelectorInput:b["a"],SelectorDisabled:p["a"],SelectorDriver:m["a"],SelectorCar:v["a"],SelectorTextarea:y["a"],SelectorDatetimeMinute:h["a"],CheckinTime:h["a"],SelectorUpload:k["a"],FixedButton:g["a"]},inject:["app"]})],w);var T=w,N=T,I=a("8d2f"),D=Object(I["a"])(N,n,c,!1,null,null,null);t["default"]=D.exports},f53f:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("van-field",{attrs:{name:"name",label:e.label||"签到地点",placeholder:e.placeholder,size:e.size,value:e.value,disabled:!0,rules:e.rules},on:{input:function(t){return e.$emit("input",t)}}})},c=[],i=a("81db"),o=a("50cc"),r=a("0920"),s=a("2f76"),l=a("aef9"),u=a("9d0b"),d=a("d6d8"),h=function(e){Object(r["a"])(a,e);var t=Object(s["a"])(a);function a(){return Object(o["a"])(this,a),t.apply(this,arguments)}return Object(i["a"])(a)}(d["a"]);h=Object(l["a"])([Object(u["a"])({})],h);var p=h,b=p,f=a("8d2f"),m=Object(f["a"])(b,n,c,!1,null,null,null);t["a"]=m.exports}}]);