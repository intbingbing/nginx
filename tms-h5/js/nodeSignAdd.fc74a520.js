(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["nodeSignAdd"],{"008e":function(e,t,a){"use strict";var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("van-field",{attrs:{readonly:"",clickable:"",label:"司机",value:e.value,placeholder:"请选择…",rules:e.rules,"right-icon":"arrow"},on:{click:function(t){e.showPicker=!0}}}),a("van-popup",{attrs:{position:"bottom"},model:{value:e.showPicker,callback:function(t){e.showPicker=t},expression:"showPicker"}},[a("van-picker",{attrs:{"show-toolbar":"",columns:e.columns,value:e.value,"value-key":"driverName"},on:{cancel:function(t){e.showPicker=!1},confirm:e.selectType}})],1)],1)},i=[],n=a("50cc"),c=a("81db"),l=a("0920"),r=a("2f76"),d=a("aef9"),s=a("9d0b"),u=a("d6d8"),f=a("83f1"),h=function(e){Object(l["a"])(a,e);var t=Object(r["a"])(a);function a(){var e;return Object(n["a"])(this,a),e=t.apply(this,arguments),e.columns=[],e.type="",e.showPicker=!1,e}return Object(c["a"])(a,[{key:"created",value:function(){var e=this;Object(f["b"])({}).then((function(t){e.columns=t.data}))}},{key:"selectType",value:function(e){this.type=e.driverName,this.showPicker=!1,this.$emit("confirm",e)}},{key:"watchType",value:function(e){this.$emit("input",e)}}]),a}(u["a"]);Object(d["a"])([Object(s["g"])("type")],h.prototype,"watchType",null),h=Object(d["a"])([Object(s["a"])({})],h);var b=h,m=b,p=a("8d2f"),v=Object(p["a"])(m,o,i,!1,null,null,null);t["a"]=v.exports},"3eb2":function(e,t,a){"use strict";var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("van-field",{attrs:{readonly:"",clickable:"",label:"车辆",value:e.value,placeholder:"请选择…",rules:e.rules,"right-icon":"arrow"},on:{click:function(t){e.showPicker=!0}}}),a("van-popup",{attrs:{position:"bottom"},model:{value:e.showPicker,callback:function(t){e.showPicker=t},expression:"showPicker"}},[a("van-picker",{attrs:{"show-toolbar":"",columns:e.columns,value:e.value,"value-key":"plateNumber"},on:{cancel:function(t){e.showPicker=!1},confirm:e.selectType}})],1)],1)},i=[],n=a("50cc"),c=a("81db"),l=a("0920"),r=a("2f76"),d=a("aef9"),s=a("9d0b"),u=a("d6d8"),f=a("83f1"),h=function(e){Object(l["a"])(a,e);var t=Object(r["a"])(a);function a(){var e;return Object(n["a"])(this,a),e=t.apply(this,arguments),e.columns=[],e.type="",e.showPicker=!1,e}return Object(c["a"])(a,[{key:"created",value:function(){var e=this;Object(f["d"])({}).then((function(t){e.columns=t.data}))}},{key:"selectType",value:function(e){this.type=e.plateNumber,this.showPicker=!1,this.$emit("confirm",e)}},{key:"watchType",value:function(e){this.$emit("input",e)}}]),a}(u["a"]);Object(d["a"])([Object(s["g"])("type")],h.prototype,"watchType",null),h=Object(d["a"])([Object(s["a"])({})],h);var b=h,m=b,p=a("8d2f"),v=Object(p["a"])(m,o,i,!1,null,null,null);t["a"]=v.exports},4394:function(e,t,a){"use strict";a.d(t,"a",(function(){return c})),a.d(t,"c",(function(){return l})),a.d(t,"d",(function(){return r})),a.d(t,"b",(function(){return d}));a("caf3");var o=a("b775"),i=a("794c"),n="/api-event/h5";function c(e){return Object(o["a"])({url:"".concat(i["i"]).concat(n,"/skunode/nodeBaseSave"),method:"post",data:e})}function l(e){return Object(o["a"])({url:"".concat(i["i"]).concat(n,"/nodeBase/save"),method:"post",data:e})}function r(e){return Object(o["a"])({url:"".concat(i["i"]).concat(n,"/skunode/skuNodeIsEnable"),method:"post",data:e})}function d(e){return Object(o["a"])({url:"".concat(i["i"]).concat(n,"/skunode/nodeConfigList"),method:"post",data:e})}},"4a79":function(e,t,a){"use strict";var o=a("19fe"),i=a("24a7"),n=a("0be4"),c=a("405c"),l=a("96cc"),r=[],d=r.sort,s=c((function(){r.sort(void 0)})),u=c((function(){r.sort(null)})),f=l("sort"),h=s||!u||!f;o({target:"Array",proto:!0,forced:h},{sort:function(e){return void 0===e?d.call(n(this)):d.call(n(this),i(e))}})},"7c03":function(e,t,a){"use strict";var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("van-field",{attrs:{rows:e.rows,autosize:"",label:e.label,type:"textarea",placeholder:e.placeholder,value:e.value,maxlength:e.maxlength,"show-word-limit":e.showWordLimit,rules:e.rules},on:{input:function(t){return e.$emit("input",t)}}})},i=[],n=a("81db"),c=a("50cc"),l=a("0920"),r=a("2f76"),d=a("aef9"),s=a("9d0b"),u=a("d6d8"),f=function(e){Object(l["a"])(a,e);var t=Object(r["a"])(a);function a(){return Object(c["a"])(this,a),t.apply(this,arguments)}return Object(n["a"])(a)}(u["a"]);Object(d["a"])([Object(s["d"])()],f.prototype,"showWordLimit",void 0),Object(d["a"])([Object(s["d"])({default:4})],f.prototype,"rows",void 0),f=Object(d["a"])([Object(s["a"])({})],f);var h=f,b=h,m=a("8d2f"),p=Object(m["a"])(b,o,i,!1,null,null,null);t["a"]=p.exports},"9bd9":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"orderSignEdit"},[a("van-form",{ref:"formRefInput",on:{failed:e.onFailed,submit:e.checkeInCreated}},[a("SelectorInput",{attrs:{label:"节点类型",allowInput:!1},model:{value:e.data.nodeName,callback:function(t){e.$set(e.data,"nodeName",t)},expression:"data.nodeName"}}),e._l(e.skuNodeFieldVOS,(function(t,o){return["signTime"===t.fieldCode?a("SelectorDatetimeMinute",{key:o,attrs:{label:t.fieldName},model:{value:e.submitData[t.fieldCode],callback:function(a){e.$set(e.submitData,t.fieldCode,a)},expression:"submitData[item.fieldCode]"}}):"truckName"===t.fieldCode?a("SelectorCar",{key:o,staticClass:"mar",attrs:{label:t.fieldName,rules:[{required:"1"===t.isMust,message:"请选择"+t.fieldName}]},on:{confirm:e.truckChange},model:{value:e.submitData[t.fieldCode],callback:function(a){e.$set(e.submitData,t.fieldCode,a)},expression:"submitData[item.fieldCode]"}}):"driverName"===t.fieldCode?a("SelectorDriver",{key:o,attrs:{label:t.fieldName,rules:[{required:"1"===t.isMust,message:"请选择"+t.fieldName}]},on:{confirm:e.driverChange},model:{value:e.submitData[t.fieldCode],callback:function(a){e.$set(e.submitData,t.fieldCode,a)},expression:"submitData[item.fieldCode]"}}):"desc"===t.fieldCode?a("SelectorTextarea",{key:o,attrs:{label:t.fieldName,maxlength:500,placeholder:"请输入",showWordLimit:"",rules:[{required:"1"===t.isMust,message:"请填写"+t.fieldName}]},model:{value:e.submitData[t.fieldCode],callback:function(a){e.$set(e.submitData,t.fieldCode,a)},expression:"submitData[item.fieldCode]"}}):"signAddress"===t.fieldCode?a("SelectorLocation",{key:o,attrs:{label:t.fieldName,disabled:!1,rules:[{required:"1"===t.isMust,message:"请选择"+t.fieldName}]},on:{change:e.setLocation},model:{value:e.submitData[t.fieldCode],callback:function(a){e.$set(e.submitData,t.fieldCode,a)},expression:"submitData[item.fieldCode]"}}):"nodeAttach"===t.fieldCode?a("SelectorUpload",{key:o,staticClass:"file",attrs:{"max-count":2,multiple:!1},on:{change:e.upload}}):"createdUserId"!==t.fieldCode&&"departmentId"!==t.fieldCode&&"companyId"!==t.fieldCode?a("SelectorInput",{key:o,attrs:{label:t.fieldName,placeholder:"请填写"+t.fieldName,rules:[{required:"1"===t.isMust,message:"请填写"+t.fieldName}]},model:{value:e.submitData[t.fieldCode],callback:function(a){e.$set(e.submitData,t.fieldCode,a)},expression:"submitData[item.fieldCode]"}}):e._e()]})),a("FixedButton",{attrs:{"native-type":"checkeInCreated",loading:e.loading}})],2)],1)},i=[],n=a("4712"),c=a("c79e"),l=a("98b7"),r=a("50cc"),d=a("81db"),s=a("0920"),u=a("2f76"),f=(a("3a28"),a("0b9a"),a("c296"),a("4a79"),a("caf3"),a("1822"),a("2ed1"),a("6dc2"),a("aef9")),h=a("9d0b"),b=a("d204"),m=a("db10"),p=a("96ec"),v=a("3eb2"),k=a("008e"),O=a("7c03"),y=a("14fc"),g=a("848d"),j=a("4394"),C=a("d5c1"),w=a("08d8"),N=function(e){Object(s["a"])(a,e);var t=Object(u["a"])(a);function a(){var e;return Object(r["a"])(this,a),e=t.apply(this,arguments),e.skuNodeFieldVOS=[],e.nodeAttach=[],e.nodeConfigId="",e.orderId="",e.nodeType="",e.driverId="",e.truckId="",e.loading=!1,e.submitData={},e.data={},e.LatLng={},e}return Object(d["a"])(a,[{key:"created",value:function(){var e=Object(l["a"])(Object(c["a"])().mark((function e(){var t,a,o,i=this;return Object(c["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.orderId=this.$route.query.orderId,t=this.$route.query.skuNodeConfigId,e.next=4,Object(w["e"])({ids:t});case 4:a=e.sent,0===a.code&&(this.data=a.data,this.skuNodeFieldVOS=a.data.skuNodeFieldVOS,this.skuNodeFieldVOS.filter((function(e){return"nodeAttach"===e.fieldCode})).length&&(o=this.skuNodeFieldVOS.splice(this.skuNodeFieldVOS.filter((function(e){return"nodeAttach"===e.fieldCode}))[0].sort,1),this.skuNodeFieldVOS=this.skuNodeFieldVOS.concat(o)),this.skuNodeFieldVOS.forEach((function(e){"driverId"===e.fieldCode?e.fieldCode="driverName":"truckId"===e.fieldCode&&(e.fieldCode="truckName"),i.submitData[e.fieldCode]=""})),this.submitData=Object.assign({},this.submitData),this.nodeConfigId=a.data.skuNodeConfigId,this.nodeType=a.data.nodeType,console.log(this.nodeConfigId,this.nodeType),console.log("获取动态列表数据",this.skuNodeFieldVOS,this.submitData));case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"setLocation",value:function(e){this.LatLng=e}},{key:"onFailed",value:function(e){console.log("onFailed")}},{key:"checkeInCreated",value:function(){var e=this;console.log("提交",[this.submitData]);var t=Object(n["a"])(Object(n["a"])({},this.submitData),{},{nodeAttach:this.nodeAttach.length?this.nodeAttach:"",nodeConfigId:this.nodeConfigId,nodeType:this.nodeType,orderId:this.orderId,orderType:"1",joinOrderId:""},this.LatLng),a=[];a.push(t),console.log("我是参数",[t]),this.loading=!0,Object(j["a"])(a).then((function(t){e.loading=!1,0===t.code&&(Object(C["a"])({message:"打卡成功",type:"success",duration:1500}),e.$router.go(-1))})).catch((function(t){e.loading=!1,Object(C["a"])({message:t.msg,type:"fail",duration:1500})}))}},{key:"upload",value:function(e){console.log(e.length),console.log(e);var t=e.map((function(e){return e.id})).join(",");this.nodeAttach=t,console.log(this.nodeAttach)}},{key:"driverChange",value:function(e){console.log(e),this.submitData.driverPhone=e.driverPhone,this.submitData.driverId=e.driverId}},{key:"truckChange",value:function(e){console.log(e),this.submitData.truckId=e.truckId}}]),a}(h["f"]);N=Object(f["a"])([Object(h["a"])({components:{SelectorLocation:m["a"],SelectorInput:b["a"],SelectorDatetimeMinute:p["a"],SelectorCar:v["a"],SelectorDriver:k["a"],SelectorTextarea:O["a"],SelectorUpload:y["a"],FixedButton:g["a"]}})],N);var I=N,D=I,S=a("8d2f"),x=Object(S["a"])(D,o,i,!1,null,null,null);t["default"]=x.exports}}]);