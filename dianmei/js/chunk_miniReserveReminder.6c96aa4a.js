(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk_miniReserveReminder","chunk-147ba09e"],{"173d":function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"c",(function(){return s})),n.d(e,"b",(function(){return o})),n.d(e,"d",(function(){return r}));var i=n("b775");function a(t){return Object(i["a"])({url:"/v1/module/memberBenefits/".concat(t.companyId,"/detail"),method:"get"})}function s(t){return Object(i["a"])({url:"v1/module/_update",method:"PUT",data:JSON.stringify(t),headers:{"Content-Type":"application/json"}})}function o(t,e){return Object(i["a"])({url:"/v1/module/memberBenefits/".concat(t),method:"PUT",data:JSON.stringify(e),headers:{"Content-Type":"application/json"}})}function r(t){return Object(i["a"])({url:"/v1/card/type/list",method:"post",data:JSON.stringify(t),headers:{"Content-Type":"application/json"}})}},7508:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a-card",[n("div",{staticClass:"table-wrap"},[n("a-table",{staticClass:"table",attrs:{columns:t.columns,"row-key":"id","data-source":t.data,size:"small"},scopedSlots:t._u([{key:"startTime",fn:function(e,i){return n("span",{},[[n("span",[t._v(t._s(i.startTime)+" "),n("br"),t._v("至 "+t._s(i.endTime))])]],2)}},{key:"action",fn:function(e,i){return n("span",{},[[1!=i.status?n("a",{on:{click:function(e){return t.actionClick("编辑",i)}}},[t._v("编辑")]):t._e(),1!=i.status?n("a-divider",{attrs:{type:"vertical"}}):t._e(),1!=i.status?n("a",{on:{click:function(e){return t.actionClick("上架",i)}}},[t._v("上架")]):t._e(),1==i.status?n("a",{on:{click:function(e){return t.actionClick("下架",i)}}},[t._v("下架")]):t._e()]],2)}}])}),n("mini-reserve-edit",{ref:"miniReserveEdit"})],1)])},a=[],s=n("b775");function o(t){return Object(s["a"])({url:"/v1/module/scheduled/".concat(t,"/detail"),method:"GET",data:JSON.stringify(t),headers:{"Content-Type":"application/json"}})}function r(t){return Object(s["a"])({url:"v1/module/_update",method:"PUT",data:JSON.stringify(t),headers:{"Content-Type":"application/json"}})}var c=n("b7d0"),d={components:{miniReserveEdit:c["default"]},name:"marketingNewUserGifts",data:function(){return{data:[],columns:[{title:"id",dataIndex:"id",slots:{title:"customTitle"}},{title:"栏位标题",dataIndex:"title"},{title:"类型",dataIndex:"type"},{title:"有效时间",dataIndex:"startTime"},{title:"创建时间",dataIndex:"createTime"},{title:"上架",dataIndex:"statusNote",scopedSlots:{customRender:"statusNote"}},{title:"操作",dataIndex:"action",key:"action",scopedSlots:{customRender:"action"}}],parameter:{companyId:storage.get("user").companyId}}},created:function(){this.initMemberList()},mounted:function(){},methods:{initMemberList:function(){var t=this;o(this.parameter.companyId).then((function(e){t.data=e}))},actionClick:function(t,e){var n=this;if("编辑"==t&&1!=e.status)this.$refs.miniReserveEdit.visible=!0,this.$refs.miniReserveEdit.initEdit(e);else{var i=[],a={fieldName:"id",fieldValue:e.id},s={fieldName:"status",fieldValue:1==e.status?0:1};i.push(a,s),console.log(i),r(Object.assign({moduleFields:i})).then((function(t){console.log(t),n.initMemberList()}))}}}},l=d,u=(n("c80d"),n("2877")),f=Object(u["a"])(l,i,a,!1,null,"b7e94bc8",null);e["default"]=f.exports},"7f32":function(t,e,n){"use strict";n("84d4")},"84d4":function(t,e,n){},b7d0:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a-modal",{attrs:{title:"编辑",destroyOnClose:!0,visible:t.visible,width:"80%",okText:"提交"},on:{ok:t.handleOk,cancel:t.handleCancel}},[n("div",{staticClass:"border-top"},[n("div",{staticClass:"column"},[t._v("提醒信息")]),n("div",{staticClass:"column-r"},[n("div",{staticClass:"label"},[t._v("*标题")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.info.title,expression:"info.title"}],attrs:{type:"text",placeholder:"请输入标题"},domProps:{value:t.info.title},on:{input:function(e){e.target.composing||t.$set(t.info,"title",e.target.value)}}})]),n("div",{staticClass:"column-r"},[n("div",{staticClass:"label"},[t._v("*内容")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.info.content,expression:"info.content"}],attrs:{type:"text",placeholder:"请输入内容"},domProps:{value:t.info.content},on:{input:function(e){e.target.composing||t.$set(t.info,"content",e.target.value)}}})])]),n("a-range-picker",{staticClass:"range-picker",attrs:{"show-time":"",format:"YYYY-MM-DD HH:mm",placeholder:[t.info.startTime,t.info.endTime]},on:{change:t.onChange}}),n("div",{staticClass:"date-row-title"},[t._v("选择上下架：")]),n("a-radio-group",{on:{change:t.radioOnChange},model:{value:t.status,callback:function(e){t.status=e},expression:"status"}},[n("a-radio",{attrs:{value:1}},[t._v(" 上架 ")]),n("a-radio",{attrs:{value:0}},[t._v(" 下架 ")])],1)],1)},a=[],s=n("173d"),o={name:"miniReserveEdit",components:{},data:function(){return{visible:!1,data:[],status:1,info:{title:"",content:""}}},created:function(){},mounted:function(){},methods:{initEdit:function(t){console.log(t),t&&(this.info=t,this.status=t.status)},onChange:function(t,e){this.info.startTime=e[0],this.info.endTime=e[1]},handleOk:function(){var t=this;return this.info.status=this.status,this.info.title?this.info.content?(Object(s["c"])(this.info).then((function(e){t.visible=!1})),void(this.visible=!1)):this.$message.error("请输入内容"):this.$message.error("请输入标题")},handleCancel:function(){this.visible=!1},radioOnChange:function(t){this.status=t.target.value}}},r=o,c=(n("7f32"),n("2877")),d=Object(c["a"])(r,i,a,!1,null,"0841e85a",null);e["default"]=d.exports},c80d:function(t,e,n){"use strict";n("d894")},d894:function(t,e,n){}}]);